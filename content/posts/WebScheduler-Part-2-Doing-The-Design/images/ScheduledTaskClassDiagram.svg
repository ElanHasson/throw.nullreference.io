<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="626.0417px" preserveAspectRatio="none" style="width:710px;height:626px;background:#00000000;" version="1.1" viewBox="0 0 710 626" width="710.4167px" zoomAndPan="magnify"><defs/><g><rect height="47.168" rx="4.1667" ry="4.1667" style="stroke:#BABDBF;stroke-width:1.0416666666666667;fill:none;" width="378.125" x="161.4583" y="20.8333"/><text fill="#2FA4E7" font-family="&quot;Verdana&quot;" font-size="20.8333" font-weight="bold" lengthAdjust="spacing" textLength="355.2083" x="172.9167" y="51.6296">ScheduledTask Class Diagram</text><!--MD5=[423f61e9d5274eee049a36b2eba8914d]
class ScheduledTaskGrain--><a href="http://localhost:9081/posts/webscheduler-part-2-doing-the-design/#the-scheduledtaskgrain" target="_blank" title="Jump to the ScheduledTaskGrain details" xlink:actuate="onRequest" xlink:href="http://localhost:9081/posts/webscheduler-part-2-doing-the-design/#the-scheduledtaskgrain" xlink:show="new" xlink:title="Jump to the ScheduledTaskGrain details" xlink:type="simple"><rect codeLine="7" height="137.5244" id="ScheduledTaskGrain" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;fill:none;" width="638.5417" x="53.125" y="86.7513"/><ellipse cx="302.0833" cy="103.8371" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0416666666666667;"/><path d="M303.9876,108.2642 Q303.5645,108.4757 303.0924,108.5897 Q302.6204,108.7036 302.1159,108.7036 Q300.2604,108.7036 299.2839,107.4992 Q298.3236,106.2785 298.3236,103.9836 Q298.3236,101.6724 299.2839,100.4679 Q300.2604,99.2472 302.1159,99.2472 Q302.6204,99.2472 303.0924,99.3612 Q303.5807,99.4588 303.9876,99.6867 L303.9876,101.6886 Q303.5319,101.2655 303.0924,101.0701 Q302.653,100.8586 302.1973,100.8586 Q301.2044,100.8586 300.6999,101.6561 Q300.1953,102.4373 300.1953,103.9836 Q300.1953,105.5135 300.6999,106.2948 Q301.2044,107.076 302.1973,107.076 Q302.653,107.076 303.0924,106.8807 Q303.5319,106.6854 303.9876,106.2622 L303.9876,108.2642 Z " fill="#000000"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="121.875" x="327.0833" y="107.8039">ScheduledTaskGrain</text><line style="stroke:#2FA4E7;stroke-width:1.0416666666666667;" x1="54.1667" x2="690.625" y1="120.9229" y2="120.9229"/><ellipse cx="64.5833" cy="132.3812" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="600" x="78.125" y="140.9337">ValueTask&lt;ScheduledTaskMetadata&gt; CreateAsync(ScheduledTaskMetadata scheduledTaskMetadata)</text><ellipse cx="64.5833" cy="156.1361" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="602.0833" x="78.125" y="164.6886">ValueTask&lt;ScheduledTaskMetadata&gt; UpdateAsync(ScheduledTaskMetadata scheduledTaskMetadata)</text><ellipse cx="64.5833" cy="179.891" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="290.625" x="78.125" y="188.4435">ValueTask&lt;ScheduledTaskMetadata&gt; GetAsync()</text><ellipse cx="64.5833" cy="203.6458" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="307.2917" x="78.125" y="212.1984">ValueTask&lt;ScheduledTaskMetadata&gt; DeleteAsync()</text></a><!--MD5=[68b772ec61f0846dab26e2c3b448cd36]
class ScheduledTaskMetadata--><a href="https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/ScheduledTaskMetadata.cs" target="_blank" title="Goto Souce" xlink:actuate="onRequest" xlink:href="https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/ScheduledTaskMetadata.cs" xlink:show="new" xlink:title="Goto Souce" xlink:type="simple"><rect codeLine="14" height="327.5635" id="ScheduledTaskMetadata" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;fill:none;" width="296.875" x="223.9583" y="286.7513"/><ellipse cx="291.1458" cy="303.8371" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0416666666666667;"/><path d="M293.0501,308.2642 Q292.627,308.4757 292.1549,308.5897 Q291.6829,308.7036 291.1784,308.7036 Q289.3229,308.7036 288.3464,307.4992 Q287.3861,306.2785 287.3861,303.9836 Q287.3861,301.6724 288.3464,300.4679 Q289.3229,299.2472 291.1784,299.2472 Q291.6829,299.2472 292.1549,299.3612 Q292.6432,299.4588 293.0501,299.6867 L293.0501,301.6886 Q292.5944,301.2655 292.1549,301.0701 Q291.7155,300.8586 291.2598,300.8586 Q290.2669,300.8586 289.7624,301.6561 Q289.2578,302.4373 289.2578,303.9836 Q289.2578,305.5135 289.7624,306.2948 Q290.2669,307.076 291.2598,307.076 Q291.7155,307.076 292.1549,306.8807 Q292.5944,306.6854 293.0501,306.2622 L293.0501,308.2642 Z " fill="#000000"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="143.75" x="316.1458" y="307.8039">ScheduledTaskMetadata</text><line style="stroke:#2FA4E7;stroke-width:1.0416666666666667;" x1="225" x2="519.7917" y1="320.9229" y2="320.9229"/><ellipse cx="235.4167" cy="332.3812" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="118.75" x="248.9583" y="340.9337">DateTime CreatedAt</text><ellipse cx="235.4167" cy="356.1361" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="120.8333" x="248.9583" y="364.6886">DateTime ModifiedAt</text><ellipse cx="235.4167" cy="379.891" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="72.9167" x="248.9583" y="388.4435">string Name</text><ellipse cx="235.4167" cy="403.6458" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="105.2083" x="248.9583" y="412.1984">string Description</text><ellipse cx="235.4167" cy="427.4007" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="126.0417" x="248.9583" y="435.9533">DateTime? NextRunAt</text><ellipse cx="235.4167" cy="451.1556" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="125" x="248.9583" y="459.7082">DateTime? LastRunAt</text><ellipse cx="235.4167" cy="474.9105" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="86.4583" x="248.9583" y="483.463">bool IsEnabled</text><ellipse cx="235.4167" cy="498.6654" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="84.375" x="248.9583" y="507.2179">bool IsDeleted</text><ellipse cx="235.4167" cy="522.4202" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="122.9167" x="248.9583" y="530.9728">DateTime? DeletedAt</text><ellipse cx="235.4167" cy="546.1751" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="132.2917" x="248.9583" y="554.7277">string CronExpression</text><ellipse cx="235.4167" cy="569.93" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="173.9583" x="248.9583" y="578.4826">TaskTriggerType TriggerType</text><ellipse cx="235.4167" cy="593.6849" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="260.4167" x="248.9583" y="602.2374">HttpTriggerProperties HttpTriggerProperties</text></a><!--MD5=[f7de683d74245d5e94fa58ec2467e756]
class TaskTriggerType--><a href="https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/TaskTriggerType.cs" target="_blank" title="Goto Source" xlink:actuate="onRequest" xlink:href="https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/TaskTriggerType.cs" xlink:show="new" xlink:title="Goto Source" xlink:type="simple"><rect codeLine="32" height="66.2598" id="TaskTriggerType" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;fill:none;" width="140.625" x="557.2917" y="416.9596"/><ellipse cx="571.875" cy="434.0454" fill="#E47833" rx="10.4167" ry="10.4167" style="stroke:#FFFFFF;stroke-width:1.0416666666666667;"/><path d="M574.4141,438.7329 L568.7337,438.7329 L568.7337,429.6183 L574.4141,429.6183 L574.4141,431.2134 L570.5404,431.2134 L570.5404,433.1665 L574.0397,433.1665 L574.0397,434.7616 L570.5404,434.7616 L570.5404,437.1379 L574.4141,437.1379 L574.4141,438.7329 Z " fill="#000000"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="98.9583" x="590.625" y="438.0122">TaskTriggerType</text><line style="stroke:#2FA4E7;stroke-width:1.0416666666666667;" x1="558.3333" x2="696.875" y1="451.1312" y2="451.1312"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="66.6667" x="568.75" y="471.1421">HttpTrigger</text></a><!--MD5=[013aa1c54b87ba55757b7736785a7322]
class HttpTriggerProperties--><a href="https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/HttpTriggerProperties.cs" target="_blank" title="Goto Source" xlink:actuate="onRequest" xlink:href="https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/HttpTriggerProperties.cs" xlink:show="new" xlink:title="Goto Source" xlink:type="simple"><rect codeLine="36" height="90.0146" id="HttpTriggerProperties" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;fill:none;" width="169.7917" x="17.7083" y="405.5013"/><ellipse cx="32.2917" cy="422.5871" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0416666666666667;"/><path d="M34.196,427.0142 Q33.7728,427.2257 33.3008,427.3397 Q32.8288,427.4536 32.3242,427.4536 Q30.4688,427.4536 29.4922,426.2492 Q28.5319,425.0285 28.5319,422.7336 Q28.5319,420.4224 29.4922,419.2179 Q30.4688,417.9972 32.3242,417.9972 Q32.8288,417.9972 33.3008,418.1112 Q33.7891,418.2088 34.196,418.4367 L34.196,420.4386 Q33.7402,420.0155 33.3008,419.8201 Q32.8613,419.6086 32.4056,419.6086 Q31.4128,419.6086 30.9082,420.4061 Q30.4036,421.1873 30.4036,422.7336 Q30.4036,424.2635 30.9082,425.0448 Q31.4128,425.826 32.4056,425.826 Q32.8613,425.826 33.3008,425.6307 Q33.7402,425.4354 34.196,425.0122 L34.196,427.0142 Z " fill="#000000"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="128.125" x="51.0417" y="426.5539">HttpTriggerProperties</text><line style="stroke:#2FA4E7;stroke-width:1.0416666666666667;" x1="18.75" x2="186.4583" y1="439.6729" y2="439.6729"/><ellipse cx="29.1667" cy="451.1312" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="106.25" x="42.7083" y="459.6837">string EndPointUrl</text><ellipse cx="29.1667" cy="474.8861" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;fill:none;"/><text fill="#343A40" font-family="&quot;Verdana&quot;" font-size="11.4583" lengthAdjust="spacing" textLength="105.2083" x="42.7083" y="483.4386">string HttpMethod</text></a><!--MD5=[c4335cb5f06664ef850f524ccb210c83]
link ScheduledTaskGrain to ScheduledTaskMetadata--><path codeLine="30" d="M372.3958,224.4284 C372.3958,241.7201 372.3958,261.0846 372.3958,281.0013 " fill="none" id="ScheduledTaskGrain-to-ScheduledTaskMetadata" style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:7.0,7.0;"/><polygon fill="#2FA4E7" points="372.3958,286.6367,376.5625,277.2617,372.3958,281.4284,368.2292,277.2617,372.3958,286.6367" style="stroke:#2FA4E7;stroke-width:3.125;"/><!--MD5=[714d689b69e1b52ba82f021645e65857]
link ScheduledTaskMetadata to TaskTriggerType--><path codeLine="42" d="M520.9375,450.293 C531.2292,450.293 541.5104,450.293 551.8021,450.293 " fill="none" id="ScheduledTaskMetadata-to-TaskTriggerType" style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:7.0,7.0;"/><polygon fill="#2FA4E7" points="557.1875,450.293,547.8125,446.1263,551.9792,450.293,547.8125,454.4596,557.1875,450.293" style="stroke:#2FA4E7;stroke-width:3.125;"/><!--MD5=[d88f4685193e8f1064260a70a4e62f03]
reverse link HttpTriggerProperties to ScheduledTaskMetadata--><path codeLine="43" d="M193.0625,450.293 C203.3021,450.293 213.5417,450.293 223.7813,450.293 " fill="none" id="HttpTriggerProperties-backto-ScheduledTaskMetadata" style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:7.0,7.0;"/><polygon fill="#2FA4E7" points="187.7083,450.293,197.0833,454.4596,192.9167,450.293,197.0833,446.1263,187.7083,450.293" style="stroke:#2FA4E7;stroke-width:3.125;"/><!--MD5=[0d854f654498908f5902cfed9c963843]
@startuml "ScheduledTaskClassDiagram"
!theme cerulean-outline

skinparam svgLinkTarget _blank
title "ScheduledTask Class Diagram"
 

class ScheduledTaskGrain [[http://localhost:9081/posts/webscheduler-part-2-doing-the-design/#the-scheduledtaskgrain{Jump to the ScheduledTaskGrain details}]] {
     +ValueTask<ScheduledTaskMetadata> CreateAsync(ScheduledTaskMetadata scheduledTaskMetadata)
     +ValueTask<ScheduledTaskMetadata> UpdateAsync(ScheduledTaskMetadata scheduledTaskMetadata)
     +ValueTask<ScheduledTaskMetadata> GetAsync()
     +ValueTask<ScheduledTaskMetadata> DeleteAsync()
 }

class ScheduledTaskMetadata [[https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/ScheduledTaskMetadata.cs{Goto Souce}]]{
    
    +DateTime CreatedAt
    +DateTime ModifiedAt
    +string Name
    +string Description
    +DateTime? NextRunAt
    +DateTime? LastRunAt
    +bool IsEnabled
    +bool IsDeleted
    +DateTime? DeletedAt
    +string CronExpression
    +TaskTriggerType TriggerType  
    +HttpTriggerProperties HttpTriggerProperties
}
hide empty member
ScheduledTaskGrain ..> ScheduledTaskMetadata

enum TaskTriggerType [[https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/TaskTriggerType.cs{Goto Source}]]
{   
    HttpTrigger
}
class HttpTriggerProperties [[https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/HttpTriggerProperties.cs{Goto Source}]]
{
    +string EndPointUrl
    +string HttpMethod
}

ScheduledTaskMetadata .right.> TaskTriggerType
ScheduledTaskMetadata .left.> HttpTriggerProperties


@enduml

@startuml "ScheduledTaskClassDiagram"



skinparam backgroundColor transparent
skinparam useBetaStyle false






<style>
  root {
    BackgroundColor transparent
    FontColor #2FA4E7
    HyperLinkColor #FD7E14
    LineColor #2683B9
    LineThickness 1
    Margin 10
    Padding 6
    Shadowing 0.0
  }
  node {
   Padding 15
   roundcorner 20
   BackgroundColor transparent
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  groupHeader {
    BackgroundColor #E9ECEF
    FontColor #033C73
    FontStyle bold
  }
  header {
    LineThickness 0
  }
  referenceHeader {
    BackgroundColor transparent
    FontColor #343A40
    FontStyle bold
  }
  separator {
    BackgroundColor #343A40
    FontColor transparent
    FontStyle bold
  }
  title {
	FontSize 20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor  transparent
	FontColor #2FA4E7
	BorderColor #E9ECEF
  }
  nwdiagDiagram {
	network {
			FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent    
		LineColor #2FA4E7
		LineThickness 1.0
		FontColor #2683B9
	}
	server {
			FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	}
	arrow {
		FontColor #2683B9
		LineColor #2683B9
	}
	group {
		BackGroundColor #F8F9FA
		LineColor $LIGHT_DARK
		LineThickness 2.0
		Margin 5
		Padding 5
	}
  }
  ganttDiagram {
	task {
			FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
		LineColor #2FA4E7
		Margin 10
		Padding 6
	}
	note {
		FontColor #033C73
		LineColor $INFO_DARK
		BackGroundColor transparent
	}
	separator {
		LineColor #BABDBF
		BackGroundColor transparent
		FontColor #BABDBF
	}
	milestone {
		FontColor #033C73
		FontSize 16
		FontStyle italic
		BackGroundColor #E9ECEF
		LineColor #BABDBF
	}
	timeline {
		BackgroundColor #E9ECEF
		FontColor #BABDBF
	}
	closed {
		BackgroundColor $WARNING_DARK
		FontColor #DD5600
	}
  }
</style>
skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #868E96
skinparam stereotype {
    CBackgroundColor #EDF0F2
    CBorderColor #BABDBF
    ABackgroundColor #8FB961
    ABorderColor $SUCCESS_DARK
    IBackgroundColor #D2494E
    IBorderColor $DANGER_DARK
    EBackgroundColor #E47833
    EBorderColor $WARNING_DARK
    NBackgroundColor #35638F
    NBorderColor $INFO_DARK
}
skinparam title {
	FontColor	                 #2FA4E7
	BorderColor	                 #BABDBF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              transparent
}

skinparam legend {
	BackgroundColor transparent
	BorderColor #BABDBF
	FontColor #343A40
}

skinparam swimlane {
	BorderColor #033C73
	BorderThickness 2
	TitleBackgroundColor  #EDF0F2-#E9ECEF
	TitleFontColor #2FA4E7
}


skinparam activity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BarColor #73A839
	StartColor #033C73
	EndColor #033C73
	DiamondBackgroundColor transparent
  	DiamondBorderColor #BABDBF
	DiamondFontColor #BABDBF
}


skinparam participant {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam arrow {
	Thickness 3
	Color #2FA4E7
	FontColor #343A40
}


skinparam sequence {
	BorderColor #2FA4E7
	TitleFontColor #2FA4E7
	BackgroundColor transparent
	StartColor #2FA4E7
	EndColor #2FA4E7
	BoxBackgroundColor transparent
	BoxBorderColor #868E96
	BoxFontColor #343A40
	DelayFontColor #343A40
	LifeLineBorderColor #BABDBF
	LifeLineBorderThickness 2
	LifeLineBackgroundColor transparent
	GroupBorderColor #868E96
	GroupFontColor #343A40
	GroupHeaderFontColor #033C73
	DividerBackgroundColor transparent
    DividerBorderColor #868E96
    DividerBorderThickness 2
    DividerFontColor #343A40
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #868E96
	ReferenceFontColor #343A40
	ReferenceHeaderFontColor #033C73
	StereotypeFontColor #2FA4E7
}


skinparam partition {
	BorderColor #2FA4E7
	FontColor #2FA4E7
	BackgroundColor transparent
}


skinparam collections {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam control {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam entity {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam boundary {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam agent {
	BackgroundColor transparent
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam artifact {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam component {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam interface {
	BackgroundColor  transparent
	BorderColor  #C71C22
	FontColor #343A40
}


skinparam storage {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
}


skinparam node {
	BackgroundColor transparent
	BorderColor #343A40
	FontColor #343A40
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #343A40
}


skinparam database {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam class {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	FontColor #F8F9FA
	HeaderBackgroundColor #2FA4E7-#2683B9
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #343A40
	AttributeFontSize 11
}


skinparam object {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam rectangle {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam package {
	BackgroundColor transparent
  	BorderColor #2FA4E7
	FontColor #2FA4E7
	BorderThickness 2
}


skinparam folder {
	BackgroundColor transparent
  	BorderColor #DD5600
	FontColor #DD5600
	BorderThickness 2
}


skinparam frame {
	BackgroundColor transparent
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}


skinparam state {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
	StartColor #033C73
	EndColor #033C73
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam queue {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}


skinparam card {
	BackgroundColor transparent
	BorderColor #033C73
	FontColor #033C73
}


skinparam file {
	BackgroundColor transparent
	BorderColor #868E96
	FontColor #868E96
}


skinparam stack {
		FontColor #2FA4E7
	BorderColor #2FA4E7
	BackgroundColor transparent
}




skinparam svgLinkTarget _blank
title "ScheduledTask Class Diagram"
 

class ScheduledTaskGrain [[http://localhost:9081/posts/webscheduler-part-2-doing-the-design/#the-scheduledtaskgrain{Jump to the ScheduledTaskGrain details}]] {
     +ValueTask<ScheduledTaskMetadata> CreateAsync(ScheduledTaskMetadata scheduledTaskMetadata)
     +ValueTask<ScheduledTaskMetadata> UpdateAsync(ScheduledTaskMetadata scheduledTaskMetadata)
     +ValueTask<ScheduledTaskMetadata> GetAsync()
     +ValueTask<ScheduledTaskMetadata> DeleteAsync()
 }

class ScheduledTaskMetadata [[https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/ScheduledTaskMetadata.cs{Goto Souce}]]{
    
    +DateTime CreatedAt
    +DateTime ModifiedAt
    +string Name
    +string Description
    +DateTime? NextRunAt
    +DateTime? LastRunAt
    +bool IsEnabled
    +bool IsDeleted
    +DateTime? DeletedAt
    +string CronExpression
    +TaskTriggerType TriggerType  
    +HttpTriggerProperties HttpTriggerProperties
}
hide empty member
ScheduledTaskGrain ..> ScheduledTaskMetadata

enum TaskTriggerType [[https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/TaskTriggerType.cs{Goto Source}]]
{   
    HttpTrigger
}
class HttpTriggerProperties [[https://github.com/web-scheduler/web-scheduler/blob/main/Source/WebScheduler.Abstractions/Grains/Scheduler/HttpTriggerProperties.cs{Goto Source}]]
{
    +string EndPointUrl
    +string HttpMethod
}

ScheduledTaskMetadata .right.> TaskTriggerType
ScheduledTaskMetadata .left.> HttpTriggerProperties


@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>